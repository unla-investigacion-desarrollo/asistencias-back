<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="author" content="UNLa labs">
    <title>Eventos UNLa</title>
    <style>
		.spinner-border {
		    width: 3rem;
		    height: 3rem;
		    display: none;
		}
	</style>
  </head>
  <body>
    <section class="container">
      <header>
		<div class="titulo-container">
			<img src="https://www.unla.edu.ar/images/logo_web.jpg"/>
			<h2 th:text="'Formulario de registro'" />
        </div>
        <div>
			<br/>
            <h2 th:text="'Evento: ' + ${eventName}" />
            <br/>
		    <h4 th:text="'Incio: ' + ${eventStartDate}" />
		    <h4 th:text="'Fin: ' + ${eventEndDate}" />
	    </div>
	  </header>
      <form class="form" th:action="@{/registro/submit}" method="post" th:object="${assistanceResponse}" onsubmit="showLoading()">
        <input type="hidden" name="uniqueCode" th:value="${uniqueCode}" />
        <div class="input-box">
          <label>Nombre</label>
          <input th:field="*{name}" type="text" placeholder="Nombre" required />
        </div>
		<div class="input-box">
          <label>Apellido</label>
          <input th:field="*{lastName}" type="text" placeholder="Apellido" required />
        </div>
        <div class="column">
          <div class="input-box">
	      	<label>Número de docomento</label>
	        <input th:field="*{documentNumber}" type="text" placeholder="Número de documento" required />
		  </div>
          <div class="input-box">
            <label>Email</label>
            <input th:field="*{email}" type="text" placeholder="Email" required />
          </div>
        </div>
        <button type="submit" id="submitButton">Registrarse</button>
        <div class="spinner-border text-primary" role="status" id="loadingSpinner">
            <span class="sr-only">Procesando...</span>
        </div>
      </form>
    </section>
    <script>
        function showLoading() {
            document.getElementById('submitButton').disabled = true;
            document.getElementById('loadingSpinner').style.display = 'block';
        }
    </script>
  </body>
</html>